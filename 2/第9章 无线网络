第9章   无线网络

近十年来，无线蜂窝电话通信技术得到了飞速发展。无论在世界范围还是在我国范围的统计结果都是一样的：仅仅发展了十几年的移动电话数已经超过了发展历史达一百多年的固定电话数。据信息产业部的统计，截止到2007年第一季度，我国的移动电话总数已超过4.8亿部，比固定电话总数3.7亿部还要多近三成。这种情况说明了目前人们普遍对移动通信有比较迫切的需求。
对移动通信的这种需求也必然反映到计算机网络中。人们也希望能够在移动中使用计算机网络。随着便携机和个人数字助理PDA（Personal Digital Assistant）的普遍使用，无线计算机网络也逐渐流行起来了。
本章主要讨论的是无线局域网WLAN，重点是无线局域网MAC层协议CSMA/CA的原理。对无线个人区域网WPAN和无线城域网WMAN也要进行简单的介绍。这些网路标准的指定组织是IEEE的802委员会和欧洲电信标准协会ETSI（European Telecommunications Standards Institute）。这些计算机网络的发展情况值得我们关注。

9.1无线局域网WLAN
    无线局域网提供了移动接入的功能，这就给许多需要发送数据但又不能坐在办公室的工作人员提供了方便。当一个工厂跨越的面积很大时，若要把各个部门都用电缆连接成网，其费用可能很高。但若使用无线局域网，不仅节省了投资，而且建网的速度也会较快。另外，当大量持有便携式电脑的用户都在同一个地方同时要求上网时（如在图书馆中或在证券公司的大厅里），若用电缆连网，那么布线就是个很大的问题。这是若采用无线局域网则比较容易。无线局域网常简写为WLAN（Wireless Local Area Network）。
    9.1.1无线局域网的组成可分为两大类。第一类是固定基础设施的，第二类是无固定基础设施的。所谓“固定基础设施”是指预先建立起来的、能够覆盖一定地理范围的一批固定基站。大家经常使用的蜂窝移动电话就是利用电信公司预先建立的、覆盖全国的大量固定基站来接通用户手机拨打电话。
    1.IEEE 802.11
    对于第一类有固定基础设施的无线局域网，1997年IEEE制定出无线局域网的协议标准802.11列标准。2003年5月，我国颁布了WLAN的国家标准，该标准采用ISO/IEC8802-11系列国际标准，并针对WLAN的安全问题，把国家对密码算法和无线电频率的要求纳入了进来。它是基于国际标准之上的符合我国安全规范的WLAN标准，是属于国家强制执行的标准。该国标在2004年6月已经正式执行，不符合此标准的WLAN产品将不允许出现在国内市场上。有关无线局域网的IEEE标准都可从因特网下载。
    802.11是个相当复杂的标准。但简单地说，802.11是无线以太网的标准，它使用星星拓扑，其中心叫做接入点AP（Access Point），在MAC层使用CSMA/CA协议（在后面的9.1.3节讨论）。凡使用802.11系列协议的局域网又称为Wi-Fi（Wireless-Fidelity，意思是“无线保真度”）。因此，在许多文献中，Wi-Fi几乎成为了无线局域网WLAN的同义词。
    802.11标准规定无线局域网的最小构件是基本服务集BSS（Basic Service Set）。一个基本服务集BSS包括一个基站和若干个移动站，所有的站在本BSS比内都可以直接通信，但在和本BSS以外的站通信时都必须通过本BSS的基站。在802.11的术语中，上面提到的接入点AP就是基本服务集内的基站（base station）。当网络管理员安装AP时，必须为该AP分配一个不超过32字节的服务集标识符SSID（Service SetIDentifier）和一个信道。一个基本服务及BSS一样。分配系统可以使用以太网（这是最常用的）、点对点链路或其他无线网络。扩展服务集ESS还可为无线用户提供到802.x局域网（也就是非802.11无心局域网）的接入。这种接入是通过叫做Portal（门户）的设备来实现的。Portal是802。11定义的新名词，其实它的作用就相当于一个网桥。在一个扩展服务集内的不同的基本服务集也可能有相交的部分。在图中的移动站A如果要和另一个基本服务集中的移动站B通信，就必须经过两个接入点AP1和AP2，即A->AP1->AP2->B。我们应当注意到，从AP1到AP2的同系你是使用有线传输的。
    图还画出了移动站A从一个基本服务及漫游到另一个基本服务集，而仍然可保持与另一个移动站B的通信，但A在不同的基本服务集所使用的接入点AP改变了。基本服务集的服务范围是由移动站所发射的电磁波的辐射范围确定的，在图中用一个椭圆来表示基本服务集的服务范围，当然实际上的服务范围可能是很不规则的几何形状。
    802.11标准并没有定义如何实现漫游，但定义了一些基本的工具。例如，一个移动站若要加入到一个基本的服务集BSS，就必须先选择一个接入点AP，并与此接入点建立关联（association）。建立关联就表示这个移动站加入了选定的AP所属的子网，并和这个接入点AP之间创建了一个虚拟线路。只有关联的AP才向这个移动站发送数据帧。而这个移动站也只有通过关联的AP才能向其他站点发送数据帧。这和手机开机后必须和某个基站建立关联的概念是相似的。
    此后，这个移动站就和选定的AP互相使用802.11关联协议进行对话。移动站点还要向该AP鉴别自身。在关联阶段过后，移动站点要通过关联的AP向该子网发送DHCP发现报文以获取IP地址。这时，因特网中的其他部分就把这个移动站当做该AP子网中的一台主机。
    若移动站使用重建关联（reassociation）服务，就可把这种关联转移到另一个接入点。当使用分离（dissociation）服务时，就可终止这种关联。
    移动站与接入点建立关联的方法有两种。一种是被动扫描，即移动站等待接收接入站周期性发出的（例如每秒10次或100次）信标帧（beacon frame）。信标帧中包含有若干系统参数（如服务集标识符SSID以及支持的速率等）。另一种是主动扫描，即移动站主动发出探测请求帧（probe request frame），然后等待从接入点发回的探测响应帧（probe response frame）。
    现在许多地方，如办公室、机场、快餐店、旅馆、购物中心等都能够向公众提供有偿或无偿接入Wi-Fi的服务。这样的地点就叫做热点（hot spot）。有许多热点和接入点AP连接起来的区域叫做热区（hot zone）。热点也就是公众无线入网点。由于无线信道的使用日益增多，因此现在也出现了无线因特网服务提供者WISP（Wireless Internet Service Provider）这一名词。用户可以通过无线信道接入到WISP，然后再经过无线信道接入到因特网。
    2.移动自组网络
    另一类无线局域网是无固定基础设施的无线局域网，它又叫做自组网络（ad hoc network）。这种自组网络没有上述基本服务集中的接入点AP而是由一些处于平等状态的移动站之间相互通信组成的临时网络。图中还画出了当移动站A和E通信时，是经过A->B，B->C，C->D，和最后D->E这样一连串的存储转发过程。因此在从源结点A到目的结点E的路径中的移动站B，C和D都是转发结点，这些结点都具有路由器的功能。由于自组网络没有预先建好的网络固定基础设施（基站），因此自组网络的服务范围通常是受限的，而且自组网络一般也不和外界的其他网络相连接。移动自组网络也就是移动分组无线网络。
    自组网络通常是这样构成的：一些可移动的设备发现在它们附近还有其他的可移动设备，并且要求和其他移动设备进行通信。随着便携式电脑的大量普及，自组网络的组网方式已受到人们的广泛关注。由于咋izizuwnagluo中的每一个移动站都要参与到网络中的其他移动站的路由的发下内核维护，同时由移动站构成的网络拓扑有可能随时间变化得很快，因此在固定网络中行之有效的一些路由选择协议对移动自组网络已不适用。这样，在自组网络中路由选择协议就引起了特别的关注。另一个重要问题是多播。在移动自组网络中往往需要将某个总要信息同时向多个移动站传送。这中多播比固定结点网络的多播要复杂得多，需要有实时性好而效率又高的多播协议。在移动自组网络中，安全问题也是一个更为突出的问题。在IETF下面设有一个专门研究移动自组网络的工作组MANET（Mobile Ad-hoc NETworks），读者可在MANET网站查阅到有关移动自组网络的技术资料。
    移动自组网络在军用和民用领域都有很好的应用前景。在军事领域中，由于战场上往往没有预先建好的固定接入点，其移动站就可以利用临时建立的移动自组网络进行通信。这种组网方式也能够应用到作战的地面车辆群和坦克群，以及海上的舰艇群。空中的机群。由于每一个移动设备都具有路由器转发分组的功能，因此分布式的移动自组网络的生存性非常好。在民用领域，持有笔记本电脑的人可以利用这种移动自组网络方便地交换信息，而不受便携式电脑附近没有电话线插头的限制。当出现自然灾害时，在抢险救灾时利用移动自组网络进行及时的通信往往也是很有效的，因为这时事先已建好的固定网络基础设施（基站）可能已经都被破坏了。
    近年来，移动自组网络中的一个子集--无线传感器网络WSN（Wireless Sensor Network）引起了人们广泛的关注。无线传感器网络是由大量传感器结点通过无线通信技术构成的自组网络。无线传感器网络的应用就是进行各种数据的采集、处理和传输，一般并不需要很高的带宽，但是在大部分时间必须保持低功耗，以节省电池的消耗。由于无线传感结点的存储容量受限，因此对协议栈的大小有严格的限制。此外，无线传感器网络还对网络安全性、结点自动配置、网络动态重组等方面有一定的要求。
    据统计，全球98%的处理器并不在传统的计算机中，而是处在各种家电设备、运输工具以及工厂的机器中。如果在这些设备上能够嵌入合适的传感器和无线通信功能，就可能把数量极大的结点连接成分布式的传感器无线网络，因而能够实现连网计算和处理。
    图给出了一种传感器结点的形状，图是典型的传感器结点的组成，它的主要构件包括CPU、存储器、传感器硬件、无线收发器和电池。
    无线传感器网络中的结点基本上是固定不变的，这点和移动自组网络有很大的区别。无线传感器网络主要的应用领域是：
    （1）
